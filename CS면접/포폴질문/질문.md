#### 1. @Async와 Redis INCR 활용에 대해 자세하게 설명해주세요
##### 상황:
사용자별 프로필을 조회할 때 총방문자와 일일방문자수를 보여주는 기능을 구현했었습니다.
이때 특정 사용자 프로필에 조회가 몰리면 성능이 저하되는 이슈를 겪었던 적이있습니다.
##### 문제 원인:
1. 조회수 관련 쓰기 작업이 많다고 생각-> 앞단에 캐시를 두어 시간별로 sync를 맞춰주는 작업을 통하기로함
2.  hostId만 사용하여 분산락으로 동시성처리
3. 특정 hostId에 요청이 몰리면 성능 저하
4. 조회수를 직접 올리고 덮어쓰기 하는 방식으로 비효율적

 해결 제시 1. 일단 조회수만 반환하고 나머지는 비동기 처리
 문제점
  큐의 사이즈를 10000으로 잡고 5초에 한번씩 batch로 저장하였으나 큐의 사이즈를 넘길 때가 있었음.  
 메모리 자원 낭비가 있음. 큐의 적정 크기를 정하는 것이 쉽지 않아서 무작정 사이즈를 크게 설정하기에는 메모리 적으로 비효율적이라 판단.  
 배치 실행 순간 부하 집중되어 CPU 및 Redis부하가 급증할 가능성 있음

##### 해결점
1. visit하는 로직 성능을 개선 (INCR활용)
2.  redis의 increment 동작 방식이 원자적으로 이루어 진다는 것을 알고 락의 범위를 줄일수 있었음

#### 2. 왜 분산락을 사용했나요
1. 분산락을 사용한 부분은 해당 ip 클라이언트가 특정 사용자를 조회한 적이 있는지 여부를 확인할 때 사용했는데요
2. 총 조회수와 일간조회수를 구현하면서 쓰기 작업이 많다는 것을 확인하고 앞단에 캐시서버를 두어서 정보를 저장한 후에 한시간 단위로 sync를 맞추는 방법을 사용하였습니다. 
3. 이때 비관락은 데이터베이스단에서 락을 가져와 사용하는데, 저희의 설계와는 맞지 않은 부분이 있다고 판단한 이유가 데이터베이스에 락을걸어 부하는 거는 것 보다는 레디스에 락을 거는 것이 부하가 적고 